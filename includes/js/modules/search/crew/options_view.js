var OptionsView=Backbone.View.extend({tagName:"tr",template:$("#emp-list-item").html(),promoteTemplate:_.template($("#option-promote-template").html()),events:{"click .record-delete":"confirmDelete","click .record-promote":"confirmPromote"},confirmPromote:function(b){b.preventDefault();this.$el=$("#container-option-promote");var a=this;this.$el.empty();this.$el.html(this.promoteTemplate(this.model.toJSON()));$("#promoteData").live("show",function(){$(this).find(".btn-success").die().live("click",function(){var e=Array;$.map($(".inopts input, .inopts textarea, .inopts select").serializeArray(),function(f,d){e[f.name]=f.value});var c=new OptionPromotions();c.save(e,{success:function(f,d){alert=new AlertView({type:"success",message:"Crew successfully promoted."});alert.render()},error:function(f,d){alert=new AlertView({type:"error",message:d});alert.render()}})})}).modal()},confirmDelete:function(b){b.preventDefault();var a=this;$("#deleteData").live("show",function(){$(this).find(".btn-danger").die().live("click",function(){a.model.destroy({success:function(d,c){a.remove()}})})}).modal()},render:function(){var a=_.template(this.template);this.$el.html(a(this.model.toJSON()));return this}});